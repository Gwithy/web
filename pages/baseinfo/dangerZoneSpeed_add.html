<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewdangerZoneSpeed" content="initial-scale=1.0, user-scalable=no" />
    <script src="../../jslib/miniui/boot.js"></script>
    <script type="text/javascript" src="./js/dangerZoneSpeed_add.js"></script>
    <title></title>
    <style>

        html, body {
            margin: 0px;
            padding: 0;
            border: 0;
            width: 100%;
            height: 100%;
            font-size: 12px;
            overflow: hidden;
        }
    </style>
</head>
<body>
<div class="mini-layout" id="layout_dangerZoneSpeed_add" style="width: 100%;height: 100%;" allowResize="false">
        <div title="center" region="center" allowResize="false" showSplit="true" showSplitIcon="false" allowUnselect="false" style="border:none;  padding:10px;">
        <div id="dangerZoneSpeedFormAdd">

                	<input id="id" name="id"  class="mini-hidden" />
            <table class="form-table" border="0" cellpadding="1" cellspacing="2" style="width:100%;table-layout:fixed;">
                <tr>
                    <td class="form-label">区域航段：</td>
                    <td class="form-content" colspan="3">
                        <input name="name" id="name" class="mini-textbox"  required="true" maxlength="20" requiredErrorText="区域航段不能为空"/>
                    </td>
                </tr>
                <tr>
                    <td class="form-label">经<span style="padding: 0 4px;"></span>纬<span style="padding: 0 4px;"></span>度：</td>
                    <td class="form-content" colspan="3">
                        <input name="coordinate" id="coordinate" class="mini-textbox"    onclick="PageDangerZoneSpeedAdd.funOpenLngLat()"/>
                        <a class="mini-button" iconCls="icon-site" onclick="PageDangerZoneSpeedAdd.funOpenLngLat()"><label>区域</label></a>
                    </td>
                </tr>
                <tr>
                    <td class="form-label">最小速度(km/h)：</td>
                    <td class="form-content" width="140">
                        <input name="minSpeed" id="minSpeed"   decimalPlaces="2" width="130" class="mini-spinner"  minValue="0" maxValue="1000000000000" />
                    </td>
                    <td class="form-label"  width="140">是否终端报警：</td>
                    <td class="form-content">
                        <input name="selfalarmMin" id="selfalarmMin" width="80" class="mini-combobox" valueField="id" textField="name"  required="true" maxlength="3"
                               maxlength="10" \/>
                    </td>
                </tr>
                <tr>
                    <td class="form-label">最大速度(km/h)：</td>
                    <td class="form-content">
                        <input name="maxSpeed" id="maxSpeed" onvalidation="onMaxSpeedValidation"  width="130"  decimalPlaces="2" class="mini-spinner" minValue="0" maxValue="1000000000000" />
                    </td>
                    <td class="form-label">是否终端报警：</td>
                    <td class="form-content">
                        <input name="selfalarmMax" id="selfalarmMax"  width="80" class="mini-combobox" valueField="id" textField="name"  required="true" maxlength="3"
                               maxlength="10" \/>                    </td>
                </tr>
                <tr>
                    <td class="form-label">消息模版：</td>
                    <td class="form-content" colspan="3">
                        <input  id="msgId" name="msgId" class="mini-combobox" valueField="id" textField="title"  onvaluechanged="PageDangerZoneSpeedAdd.funMsgChangeInfo"/>
                    </td>
                </tr>
                <tr>
                    <td class="form-label">模版内容：</td>
                    <td class="form-content" colspan="3">
                        <input name="msgTemplate" id="msgTemplate" class="mini-textarea" style="width:350px; height: 80px;"  maxlength="100"/>
                    </td>
                </tr>
                <tr>
                    <td class="form-label">状<span style="padding: 0 16px;"></span>态：</td>
                    <td class="form-content" colspan="3">
                        <input name="status" id="status" class="mini-combobox" valueField="id" textField="name"  required="true" maxlength="3"
                          required="true" maxlength="10" requiredErrorText="状态不能为空"\/>
                    </td>
                </tr>
                <tr>
                    <td class="form-label">备<span style="padding: 0 16px;"></span>注：</td>
                    <td class="form-content" colspan="3">
                        <input name="description" id="description" class="mini-textarea" style="width:350px; height: 80px;"  maxlength="100"/>
                    </td>
                </tr>
            </table>
         </div>
            
        </div>
        <div  region="south" showSplit="false" showSplitIcon="false" height="30" showHeader="false"  style="border: none">
	        <div class="mini-toolbar" style="position: fixed;left:0;bottom: 0;right:0;text-align: center;border-width: 1px 0 0 0" >
	            <a class="mini-button cursor" onclick="PageDangerZoneSpeedAdd.funSave()" iconCls="icon-save">保存</a>
	            <a class="mini-button cursor" onclick="PageDangerZoneSpeedAdd.funCancel()" iconCls="icon-cancel" style="margin:0 20px;">取消</a>
	        </div>
        </div>
    </div>
    <script type="text/javascript">
    	mini.parse();
        function onMaxSpeedValidation(e) {
           if (e.isValid) {
               var minSpeed = mini.get("minSpeed").getValue();
               var maxSpeed = mini.get("maxSpeed").getValue();
               if(parseInt(minSpeed) > parseInt(maxSpeed)){
                   e.errorText = "最大速度大于等于最小速度";
                   e.isValid = false;
               }
            }
        }
    </script>
</body>
</html>
